# 期末复习

## 第九、十章

### 体系结构的概念

软件体系结构={部件，连接件，配置}

一个软件系统的体系结构规定了系统计算部件和部件之间的交互。

### 各种体系结构风格的优缺点

#### 主程序/子程序

##### 简述

将系统组织成层次结构，主程序是一个调度器，在局部上子程序又是其下层子程序的调度器，负责调度各子程序执行。

##### 效果

优点

1. 流程清晰，易于理解。严格的层次分解使得系统的组织结构符合分治的思维方式，清晰描述流程。
2. 强控制性，更能控制程序的“正确性”

缺点：

1. 程序调用是一种强耦合，使得系统难以修改和复用
2. 程序调用的连接方式限制了部件之间的数据交互，可能会使得不同部件之间使用隐含的共享数据交流，产生不必要的公共耦合，进而破坏它控制“正确性”的能力。

#### 面向对象式

##### 简述

将系统组织成多个独立的对象，每个对象根据信息内聚的原则封装一定的信息，对外提供和其数据相一致的服务。

##### 效果

优点：

1. 内部实现的可修改性。
2. 易开发，易理解，易复用的组织结构。

以上两点也是模块化和信息隐藏带来的好处。

缺点：

1. 接口的耦合性。基于方法调用的连接机制无法消除接口的耦合性。
2. 标识的耦合性。一个对象要和另一个对象交互要持有它的标识
3. 副作用。引入了“副作用”，会影响程序的正确性控制。

#### 分层

##### 简述

根据不同的抽象层次，将系统组织为层次式结构，下层为上层提供服务，隐藏之下的细节，上层调用下层，为更上层提供服务，抽象层次逐渐变高。两个层次之间遵循成熟的稳定的标准的交互协议，跨层次和逆层次的连接都是禁止的。

##### 效果

优点

1. 设计机制清晰，易于理解
2. 支持并行开发
3. 更好的可复用性和可修改性。（层内可以替换）

缺点

1. 交互协议难以修改
2. 性能损失。多层的深入会带来性能问题
3. 难以确定层次的数量和粒度

#### MVC

##### 简述

把用户任务分解成三个部分：模型（承载数据和状态，执行业务逻辑），视图（负责用户交互和业务展现，接受用户行为），控制（系统的控制逻辑，调用业务逻辑和数据更新，决定业务展现）

##### 效果

优点

1. 易开发性。MVC 分别是业务逻辑，视图，控制三个任务的抽象，设计机制清晰，易于开发。
2. 视图和控制的可修改性。MVC 中模型是相对独立的，对视图和控制的修改不会影响到模型，而且业务逻辑通常比业务表现和控制更加稳定，因此MVC 有一定的可修改性优势。
3. 适用于网络开发的特征。

缺点

1. 复杂性。将用户任务分解成 MVC 一定程度上增加了复杂性。
2. 模型修改困难。

### 物理包设计原则

1. common closure principle（共同封闭原则）
   - 一起修改的类要放在一个包内（修改应该尽可能限制在一个包内）
   - 为 programmer 带来好处（开发者）
2. common reuse principle（共同重用原则）
   - 一个包内的类应该一起被重用（避免不必要的依赖）
   - 对维护者有利

CCP 和 CRP 之间是存在矛盾的，CCP 倾向于让包变大， CRP 倾向于让包变小，一个合适的方案是在不同的阶段对两个原则给予不同的权重，在项目还没有稳定的时候主要注意 CCP ， 在项目稳定之后主要注意 CRP

3. Reuse-Release Equivalency Principle（重用发布等价原则）
   - 重用的单位也是发布的单位
   - 让维护者更轻松

前三条都是关于内聚性的原则。

4. The Acyclic Dependencies Principle（无环依赖原则）
   - 自顶向下地组织包依赖关系
   - 包的依赖关系应该组成一个 DAG，不应该存在循环依赖
   - 解决循环依赖的方式1：抽出一个依赖的共同部分，共同依赖这个包
   - 解决循环依赖的方式2：抽出一个接口，倒置依赖
5. Stable Dependencies Principle（稳定依赖原则）
   - 依赖要指向稳定的包
   - stability：effort required to change the package
   - 稳定性度量：输入耦合度Ca,位于包外且依赖于包内的类的类的数目，输出耦合度Ce, 位于包内并依赖于包外的类的类的数目，不稳定度 I = Ce/(Ca + Ce)
6. Stable Abstractions Principle(稳定抽象原则)
   - 稳定的包应该尽量抽象
   - 抽象使得修改更加容易
   - 不稳定的包应该尽量具体
   - 抽象性度量：包内抽象类个数/总的类个数

后三个原则是关于耦合性的原则。

### 定义构件之间的接口

接口编写（必考）

1. 接口来源于哪？
   刺激响应序列和详细规格
   逻辑层接口，来源于需求，刺激响应序列。
   刺激是输入的参数，响应是返回值
   数据层接口来源于逻辑层代码，增删改查，逻辑层要什么就提供什么
2. 接口怎么定？
   刺激响应构成一个接口

### 集成

#### 集成策略

1. 大爆炸式

   - 一次性将所有模块组合在一起

2. 增量式

   - 自顶向下
     - 按照深度优先可以首先实现和验证一个完整的功能需求
     - 只需要顶端的一个驱动
     - 利于故障定位
     - 桩的开发量大
     - 低层组件验证被推迟，且测试不充分
   - 自底向上
     - 对低层组件较早验证
     - 低层组件开发可以并行
     - 利于故障定位
     - 桩的开发量小
     - 驱动开发量大
     - 对于高层的验证被推迟，不容易发现高层设计上的缺陷
   - 三明治式
   - 持续集成
     - 防止软件开发过程中出现无法集成和无法发布的状况
     - 有利于检查和发现集成缺陷

   Stub 和低层组件有相同的接口，但是逻辑简单，Driver 伪装成高层组件，调用本层组件

## 第十一章

### 人机交互的目标：易用性

易用性是对软件产品在多大程度上对用户起到了“透明”的一种度量，它不是单维度的，而是多个维度的质量属性。

易用性的一种维度定义：

1. 易学性：新手用户容易学习，能很快使用系统
2. 效率：熟练用户使用系统完成任务的速度
3. 易记性：以前使用过软件系统的用户能有效记忆或者快速重新学会使用该系统
4. 出错率：用户在使用系统时，会犯多少错，错误有多严重，以及能否从错误中容易地恢复
5. 主观满意度：让用户有良好的体验

### 精神模型、差异性

#### 精神模型

精神模型就是用户进行人机交互的时候头脑中的任务模型。

#### 差异性

任务模型是人机交互设计的重要依据，但是不同群体的任务模型是有差异的，所以对他们的人机交互设计也要有差异。按照用户群体自身的特点，可以划分为：新手用户，熟练用户和专家用户

对于新手用户，要关注易学性，进行业务导航，尽量避免出错。

对于专家用户，要关注效率。

对于熟练用户，要在易学性和效率之间进行折中。

好的人机交互设计应该为不同群体提供差异化的交互机制。例如，为新手用户提供 gui，为专家提供命令行，热键等。

### 人机交互设计原则

1. 简洁设计
   - 人类处理信息的能力是有限的
   - 不要使用太大的菜单，不要在一个窗口中表现过多信息类别
2. 一致性设计
   - 相似的任务应该具有相似的交互机制
   - 用户已经建立了成熟的精神模型，那么新系统的人机交互设计需要遵循已有的精神模型
3. 低出错率设计
   - 提供简洁，有建设性，具体的指导
   - 系统还应该提供错误恢复和故障解决手册
4. 易记性设计
   - 减少短期记忆负担
   - 使用逐层递进的方式展示信息
   - 使用直观的快捷方式
   - 设置有意义的默认值

### 导航

1. 好的人机交互设计就像⼀个服务周到的推销员，能够主动将自己的产品和服务简明扼要地告诉⽤户，这个就是导航。

2. 导航的目的是为用户提供一个很好的完成任务的入口，好的导航会让这个入口非常符合人的精神模型。
3. 全局结构按照任务模型将软件产品的功能组织起来，并区分不同的重要性和主题提供给 不同的⽤户。
   1. 全局结构常⽤的导航控件包括**窗口、菜单、列表、快捷方法、热键**等等。
   2. 全局结构的设计主要以功能分层和任务交互过程为主要依据。
4. 局部结构通过安排界面布局细节，制造**视觉上的线索**来给⽤户提供导航。

### 反馈

1. 好的人机交互设计需要对用户行为进行反馈，让用户能够意识到行为的结果。

2. 一定要有反馈，避免进行错误的操作

3. ⽤户喜欢较短的响应时间；

4. 较⻓的响应时间(>15秒)具有破坏性；

5. ⽤户会根据响应时间的变化调整⾃⼰的⼯作⽅式；
   - 较短的响应时间导致了较短的⽤户思考时间；
   - 较快的节奏可能会提⾼效率，但也会增加出错率；
   - 根据任务选择适当的响应时间：
     - 打字、光标移动、⿏标定位：50～150毫秒
     - 简单频繁的任务：1秒
     - 普通的任务：2～4秒
     - 复杂的任务：8～12秒
     - 响应时间适度的变化是可接受的；
     - 意外延迟可能具有破坏性；

6. **经验测试**有助于设置适当的响应时间。

## 协作式设计

1. ⼈和计算机是⼈机交互的两方，其中⼈的因素是⽐较固定的，一定时期内不会发⽣⼤的变化，所以要让二者交互顺畅，就需要让计算机更多地适应⼈的因素，这也是⼈机交互设计以⽤户为中⼼的根本原因。
2. 这种调整计算机因素以更好地适应并帮助⽤户的设计⽅式被称为协作式设计

### 第十一章练习题

![](https://img2022.cnblogs.com/blog/2302323/202206/2302323-20220610100438696-956678460.png)

1. 违反了一致性设计的原则。在软件系统内部完成相似的功能时有不一致的交互机制，比如同样是选择 OK 或者 cancel，左边的界面中是 cancel 在左 OK 在右，而右边则相反，这会给用户造成困扰。
2. 违反了简洁设计原则。人类的信息处理能力是有限的，在有效表达交互的情况下界面应该越简洁越好，左图给出了大段文字，右图在一个窗口展示了太多类别，不符合简介设计的原则。

3. 违反了低出错率原则。没有给用户回退的选项，如果用户在上一步选择错了就只能从头重新选择，缺乏从错误中恢复的能力。
4. 给出了结果预览，符合在不暴露内部构造细节的情况下尽可能展示任务细节的原则。

![](https://img2022.cnblogs.com/blog/2302323/202206/2302323-20220610101724038-254135171.png)

1. 符合简洁设计原则。采用图片的方式来标识导航选项，清晰易懂。
2. 符合一致性设计原则。在已有的类似软件系统中也是采用菜单栏在上，主界面在中间，详细信息查看在右侧的，该界面采用类似的设计，符合用户已有的精神模型。
3. 符合易记性设计原则。采用图片标识导航选项，帮助用户直观认识功能；采用递进式的信息展示（点击表项之后详细展示在右侧），分层次展示丰富信息。

## 第十二章

### 详细设计的出发点

详细设计的出发点是需求开发的结果（软件需求规格说明和需求分析模型）以及软件体系结构的结果（软件体系结构设计方案与原型）。

### 职责分配 ： 信息专家原则

把职责分配给持有能完成该职责的数据的对象

